<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 200" width="900" height="200">
  <defs>
    <linearGradient id="archBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0d1117"/>
      <stop offset="100%" style="stop-color:#161b22"/>
    </linearGradient>
    <linearGradient id="box1" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1f3a5f"/>
      <stop offset="100%" style="stop-color:#162d4a"/>
    </linearGradient>
    <linearGradient id="box2" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2a4858"/>
      <stop offset="100%" style="stop-color:#1e3a47"/>
    </linearGradient>
    <linearGradient id="box3" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3b2f5f"/>
      <stop offset="100%" style="stop-color:#2d234a"/>
    </linearGradient>
    <linearGradient id="box4" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2f4f2f"/>
      <stop offset="100%" style="stop-color:#234023"/>
    </linearGradient>
    <linearGradient id="box5" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4a3520"/>
      <stop offset="100%" style="stop-color:#3a2a18"/>
    </linearGradient>
    <filter id="archGlow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <style>
    @keyframes dashFlow {
      0% { stroke-dashoffset: 20; }
      100% { stroke-dashoffset: 0; }
    }
    @keyframes nodeGlow {
      0%, 100% { filter: drop-shadow(0 0 3px rgba(88,166,255,0.3)); }
      50% { filter: drop-shadow(0 0 8px rgba(88,166,255,0.6)); }
    }
    @keyframes iconPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.08); }
    }
    .flow-arrow {
      stroke-dasharray: 8 4;
      animation: dashFlow 1s linear infinite;
    }
    .node-box { animation: nodeGlow 3s ease-in-out infinite; }
    .node-box:nth-child(2) { animation-delay: 0.3s; }
    .node-box:nth-child(3) { animation-delay: 0.6s; }
    .node-box:nth-child(4) { animation-delay: 0.9s; }
    .node-box:nth-child(5) { animation-delay: 1.2s; }
  </style>

  <!-- Background -->
  <rect width="900" height="200" fill="url(#archBg)" rx="12"/>
  <rect width="898" height="198" x="1" y="1" fill="none" stroke="#30363d" stroke-width="1" rx="11"/>

  <!-- Node 1: Screen Capture -->
  <g class="node-box" transform="translate(30, 35)">
    <rect width="138" height="130" rx="10" fill="url(#box1)" stroke="#58a6ff" stroke-width="1.5" opacity="0.9"/>
    <!-- Monitor icon -->
    <g transform="translate(69, 42)">
      <rect x="-20" y="-16" width="40" height="28" rx="3" fill="none" stroke="#58a6ff" stroke-width="2"/>
      <line x1="-8" y1="16" x2="8" y2="16" stroke="#58a6ff" stroke-width="2"/>
      <line x1="0" y1="12" x2="0" y2="16" stroke="#58a6ff" stroke-width="2"/>
      <!-- Screen content lines -->
      <line x1="-12" y1="-6" x2="12" y2="-6" stroke="#58a6ff" stroke-width="1" opacity="0.5"/>
      <line x1="-12" y1="0" x2="8" y2="0" stroke="#58a6ff" stroke-width="1" opacity="0.5"/>
      <line x1="-12" y1="6" x2="4" y2="6" stroke="#58a6ff" stroke-width="1" opacity="0.5"/>
    </g>
    <text x="69" y="85" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#e6edf3">Screen</text>
    <text x="69" y="101" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#e6edf3">Capture</text>
    <text x="69" y="120" text-anchor="middle" font-family="'Segoe UI', monospace" font-size="10" fill="#8b949e">mss</text>
  </g>

  <!-- Arrow 1→2 -->
  <line x1="172" y1="100" x2="196" y2="100" class="flow-arrow" stroke="#58a6ff" stroke-width="2"/>
  <polygon points="196,95 206,100 196,105" fill="#58a6ff" opacity="0.8"/>

  <!-- Node 2: Board Detection -->
  <g class="node-box" transform="translate(210, 35)">
    <rect width="138" height="130" rx="10" fill="url(#box2)" stroke="#7ee787" stroke-width="1.5" opacity="0.9"/>
    <!-- Grid/board icon -->
    <g transform="translate(69, 42)">
      <rect x="-16" y="-16" width="14" height="14" rx="1" fill="#7ee787" opacity="0.7"/>
      <rect x="2" y="-16" width="14" height="14" rx="1" fill="none" stroke="#7ee787" stroke-width="1.5" opacity="0.7"/>
      <rect x="-16" y="2" width="14" height="14" rx="1" fill="none" stroke="#7ee787" stroke-width="1.5" opacity="0.7"/>
      <rect x="2" y="2" width="14" height="14" rx="1" fill="#7ee787" opacity="0.7"/>
    </g>
    <text x="69" y="85" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#e6edf3">Board</text>
    <text x="69" y="101" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#e6edf3">Detection</text>
    <text x="69" y="120" text-anchor="middle" font-family="'Segoe UI', monospace" font-size="10" fill="#8b949e">OpenCV HSV</text>
  </g>

  <!-- Arrow 2→3 -->
  <line x1="352" y1="100" x2="376" y2="100" class="flow-arrow" stroke="#7ee787" stroke-width="2"/>
  <polygon points="376,95 386,100 376,105" fill="#7ee787" opacity="0.8"/>

  <!-- Node 3: Piece Recognition -->
  <g class="node-box" transform="translate(390, 35)">
    <rect width="138" height="130" rx="10" fill="url(#box3)" stroke="#d2a8ff" stroke-width="1.5" opacity="0.9"/>
    <!-- Chess piece (knight) icon -->
    <g transform="translate(69, 42)">
      <path d="M-8,16 L-10,5 C-11,-5 -5,-15 0,-18 C3,-20 8,-18 10,-14 L12,-8 C13,-4 10,0 7,1 L9,8 L10,16 Z"
            fill="none" stroke="#d2a8ff" stroke-width="2"/>
      <line x1="-12" y1="16" x2="12" y2="16" stroke="#d2a8ff" stroke-width="2"/>
    </g>
    <text x="69" y="85" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#e6edf3">Piece</text>
    <text x="69" y="101" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#e6edf3">Recognition</text>
    <text x="69" y="120" text-anchor="middle" font-family="'Segoe UI', monospace" font-size="10" fill="#8b949e">Template Match</text>
  </g>

  <!-- Arrow 3→4 -->
  <line x1="532" y1="100" x2="556" y2="100" class="flow-arrow" stroke="#d2a8ff" stroke-width="2"/>
  <polygon points="556,95 566,100 556,105" fill="#d2a8ff" opacity="0.8"/>

  <!-- Node 4: Stockfish -->
  <g class="node-box" transform="translate(570, 35)">
    <rect width="138" height="130" rx="10" fill="url(#box4)" stroke="#7ee787" stroke-width="1.5" opacity="0.9"/>
    <!-- Brain/engine icon -->
    <g transform="translate(69, 42)">
      <circle cx="0" cy="-2" r="14" fill="none" stroke="#7ee787" stroke-width="2"/>
      <path d="M-6,-8 L-2,-2 L6,-6" fill="none" stroke="#7ee787" stroke-width="1.5"/>
      <path d="M-4,4 L2,0 L6,6" fill="none" stroke="#7ee787" stroke-width="1.5"/>
      <circle cx="0" cy="-2" r="3" fill="#7ee787" opacity="0.6"/>
    </g>
    <text x="69" y="85" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#e6edf3">Stockfish</text>
    <text x="69" y="101" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#e6edf3">Analysis</text>
    <text x="69" y="120" text-anchor="middle" font-family="'Segoe UI', monospace" font-size="10" fill="#8b949e">depth 12</text>
  </g>

  <!-- Arrow 4→5 -->
  <line x1="712" y1="100" x2="736" y2="100" class="flow-arrow" stroke="#7ee787" stroke-width="2"/>
  <polygon points="736,95 746,100 736,105" fill="#ffa657" opacity="0.8"/>

  <!-- Node 5: Overlay -->
  <g class="node-box" transform="translate(740, 35)">
    <rect width="130" height="130" rx="10" fill="url(#box5)" stroke="#ffa657" stroke-width="1.5" opacity="0.9"/>
    <!-- Layers/overlay icon -->
    <g transform="translate(65, 42)">
      <rect x="-14" y="-8" width="24" height="16" rx="2" fill="none" stroke="#ffa657" stroke-width="1.5" opacity="0.5" transform="translate(-3,-4)"/>
      <rect x="-14" y="-8" width="24" height="16" rx="2" fill="none" stroke="#ffa657" stroke-width="1.5" opacity="0.75" transform="translate(0,0)"/>
      <rect x="-14" y="-8" width="24" height="16" rx="2" fill="none" stroke="#ffa657" stroke-width="2" transform="translate(3,4)"/>
      <!-- Highlight square -->
      <rect x="-4" y="1" width="8" height="8" rx="1" fill="#ffa657" opacity="0.5"/>
    </g>
    <text x="65" y="85" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#e6edf3">Move</text>
    <text x="65" y="101" text-anchor="middle" font-family="'Segoe UI', system-ui, sans-serif" font-size="12" font-weight="600" fill="#e6edf3">Overlay</text>
    <text x="65" y="120" text-anchor="middle" font-family="'Segoe UI', monospace" font-size="10" fill="#8b949e">PyQt6</text>
  </g>
</svg>
